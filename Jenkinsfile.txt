pipeline {
    agent any
    tools {
        terraform 'terraform2'
    }
    stages{
        stage('SCM checkout'){
             steps{
            git 'https://github.com/shawla4real/Module-terraform.tf'
         }
    }
        stage('Terraform Init'){
         steps{
             sh '''terraform init''' 
         }   
    }
        stage('Terraform plan'){
         steps{
             sh '''terraform plan''' 
         }   
    }
        stage('Terraform state'){
         steps{
             sh '''terraform "${terraform_state}" --auto-approve'''  
            }
         }   
    }
